# Background

The focus of this project is music information retrieval
from music audio signals.
In this section we study defining characteristics
of musical elements, human perception of music,
and basic notions of modern music theory.
We also review the main characteristics of a sound wave
as well as analytic tools for processing digital audio signals.
Furthermore, we establish the bridge between music
theory and physical properties of audio signals.

## Physical definition of acoustic waves

Sound is generated by vibrating objects, these vibrations
cause oscillations of molecules in the medium.
The varying pressure propagates through the medium as a wave,
the pressure is therefore the solution of the wave
equation in time and space, also known as the acoustic
wave equation.
$$\Delta p =\frac{1}{c^2}\frac{\partial^2 p}{ {\partial t}^2}$$
where $p$ is the accoustic pressure function of time and space
and $c$ is the speed of sound propagation.
The wave equation can be solved analytically with the
separation of variables method, resulting in a *sinusoidal
harmonic* solutions.

In audio signal processing, we are interested in the pressure
at the receptor's position (listener or microphone),
hence the pressure as a function of time.
An audio signal is therefore defined as the deviation
of pressure from the average pressure of the medium
at the receptor's position.

The pressure function being harmonic, the sound signal
is of the form
$$\x(t) = \sum_{h=0}^{\infty} A_h \cos(2\pi hf_0t + \phi_h)$$
where

- $f_0$ is called the **fundamental frequency** of the signal,
- $h$ is the harmonic number,
- $A_h$ is the amplitude of the $h^\text{th}$ harmonic,
- $\phi_h$ is the phase of the $h^\text{th}$ harmonic.

In many works this formula appears in terms of the angular
frequency $\w=2\pi f$, we denote as well
$f_h = h f_0$ for $h\geq 1$.

As harmonics represent proper multiples of the fundamental
frequency, $h=0$ is excluded from the sum
$$\x(t) = a_0 + \sum_{h=1}^{\infty} A_h \cos(2\pi hf_0t + \phi_h)$$
with $a_0 = A_0\cos(\phi_0)$.

## Perception of sound and music

The human auditory system is capable of distinguishing
intensities and frequencies of sound waves as well as
temporal features.
The inner ear is extremely sensitive to sound wave features,
the brain allows furthur analysis of these features.

Music theory defines and studies *perceived features*
of music signals.
These features are based on the signal's intensity,
frequency, and time patterns.

In music theory, a **note** is a musical symbol that
represents the smallest musical object.
The note's attributes define the *pitch* of the sound, its
*relative duration* and its *relative intensity*.

### Fundamental frequency and pitch

Sound signals are periodic, therefore by definition there
exists a $T>0$ such as
$$\forall t, \x(t)=\x(t+T)$$
which follows that there exists an infinite set of values of $T>0$ that verify this property, indeed
$\forall n\in\N, T'=nT, \x(t)=\x(t+T')$.
We define the period of a signal as the smallest positive
value of $T$ for which the property holds.
The **fundamental frequency** $f_0$ is defined formally
as the reciprocal of the period.
This definition holds for *any* periodic signal,
regardless of its form.

In the case of sound wave, the *perception of the fundamental
frequency* is referred to as the **pitch**.
Pitch is the defined as the *tonal height* of a sound,
it is closely related to the fundamental frequency
however remaining a *relative musical concept*
unlike the $f_0$ of a signal that is an absolute
mathematical value.
In fact, the relation between pitch and $f_0$
is neither bijective nor invariant.

In music theory, pitch is defined on a discrete space
unlike the continuous frequency space.
Moreover, human perception of frequency is logarithmic
hence obtaining the *next pitch* corresponds to the
multiplication of the frequency by a certain value $r$.

Finally, the frequency of the reference pitch A~4~
is widely accepted today as $440 Hz$ while in the baroque
era it was around $415 Hz$ and $440 Hz$ was the frequency
corresponding to A♯ pitch.
Even in modern day, variations of the pitch frequency
exist in different regions and even different orchestras!

### Perception of intensity

Sound intensity is defined physically as the power carried
by sound waves per unit area, whereas sound pressure is
the local pressure deviation from the ambient atmospheric
pressure caused by a sound wave.
Human perception of intensity is directly sensitive to
sound pressure, it is measured in terms of *sound pressure level* (SPL)
which is a logarithmic measure of sound pressure $P$
relative to the atmospheric pressure $P_0$ measured
in decibels $\mathrm{dB}$.
$$\mathrm{SPL} = 20\log_{10}\pp{\frac{P}{P_0}} \mathrm{dB}$$

Nevertheless, sensitivity to sound intensity is variable
across different frequencies.
The subjective perception of sound pressure
is defined by a sound's **loudness** which is a function of
both SPL and frequency ranging from quiet to loud.

In music theory, loudness is defined by a piece's **dynamics**.
Dynamics are indicators of a part's loudness *relative*
to other parts and/or instruments.
Dynamics markings are expressed with the italian
keywords *forte* $\f$ (loud) and *piano* $\p$ (soft).
Subtle degrees of loudness can be expressed
by the prefixes *mezzo-* or *più*, for example $\mp$ stands
for *mezzo-piano* (moderately soft) and $\piu\p$ (softer),
or by consecutive letters such as *fortissimo* $\ff$
(very loud) or more letters if needed.

Music dynamics also allow expressing gradual changes
in loudness, indicated as symbols or italian keywords
(*crescendo* and *diminuendo*).

### Perception of duration

## Audio signal processing

### Discrete-time signals

The domain of audio signal processing deals with recorded
digital/analog signals, which are discrete-time signals. 
The **Nyquist-Shannon sampling theorem** is the fundamental
bridge between continuous-time and discrete-time signals.
It establishes a sufficient condition for a sample rate
that permits a discrete sequence of samples to capture
all the information from a continuous-time signal.
[@wiki:nyquistshannon]

### Discrete Fourier Transform (DFT)

### Short-Time Fourier Transform (STFT)

## Automatic Music Transcription

- what is it
- what are its sub-tasks